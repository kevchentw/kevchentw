<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="å‰ç«¯é–‹ç™¼è¸©åˆ°çš„å‘ HTTP/2.0 èˆ‡ HTTP/1.1 çš„å·®ç•°">
    <meta name="description" content="ç´€éŒ„ä¸€æ¬¡ dev èˆ‡ prod ç’°å¢ƒå·®ç•°æ‰€è¸©åˆ°çš„å‘ï¼Œä¸¦æ•™ä½ å¦‚ä½•å•Ÿç”¨ HTTP/2.0 çš„é–‹ç™¼ç’°å¢ƒ">
  <meta property="og:description" content="ç´€éŒ„ä¸€æ¬¡ dev èˆ‡ prod ç’°å¢ƒå·®ç•°æ‰€è¸©åˆ°çš„å‘ï¼Œä¸¦æ•™ä½ å¦‚ä½•å•Ÿç”¨ HTTP/2.0 çš„é–‹ç™¼ç’°å¢ƒ">
    <meta property="og:type" content="blog">
  <title>å‰ç«¯é–‹ç™¼è¸©åˆ°çš„å‘ HTTP/2.0 èˆ‡ HTTP/1.1 çš„å·®ç•°</title>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span>ğŸ“–</span> <span>Home</span></div>
    </a>
                                                                    <span class="Navbar__Delim">&centerdot;</span>
    <a href="about.html">
      <div class="Navbar__Btn"><span>ğŸ˜€</span> <span>About Me</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="ibrary.html">
      <div class="Navbar__Btn"><span>ğŸ“•</span> <span>Library</span></div>
    </a>
                  </nav>
  <header class="Header">
        <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
        <h1 class="Header__Title">å‰ç«¯é–‹ç™¼è¸©åˆ°çš„å‘ HTTP/2.0 èˆ‡ HTTP/1.1 çš„å·®ç•°</h1>
        <div class="DateTagBar">
            <span class="DateTagBar__Item DateTagBar__Date">Posted on Wed, May 6, 2020</span>
                  <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
        <a href="tag/web.html">web</a>
      </span>
            <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--yellow">
        <a href="tag/js.html">js</a>
      </span>
          </div>
      </header>
  <article id="https://www.notion.so/31ab300a7dbb40549539075e72b0e4b8" class="PageRoot"><blockquote id="https://www.notion.so/72d3307c16e942579ea39b6b7316656b" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">è¦è¨˜å¾— Development çš„ç’°å¢ƒèˆ‡ Production æ°¸é ç„¡æ³•ç›¸åŒ</span></span></blockquote><h1 id="https://www.notion.so/d9c489530b384cbea124b3e2d8249ed9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/d9c489530b384cbea124b3e2d8249ed9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å‰è¨€</span></span></h1><h3 id="https://www.notion.so/168f1f1eb6264a7db43849b951da683f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/168f1f1eb6264a7db43849b951da683f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ç™¼ç”Ÿäº†ä»€éº¼</span></span></h3><div id="https://www.notion.so/11cf53bb056a4e2ba029805bbdab72ac" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ‰ä¸€å¤©ä½¿ç”¨è€…è·Ÿæˆ‘å€‘å›å ±ä»–åœ¨ç¶²é ä¸Šæ“ä½œæ‰¹æ¬¡å‹•ä½œæ™‚ (æ‰“ 10~1000 å€‹ API Requests)ï¼Œç«Ÿç„¶æŠŠ API æ‰“åˆ°æ›æ‰ã€‚</span></span></p></div><h3 id="https://www.notion.so/7d5245c910984623ac228f4fc6054550" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/7d5245c910984623ac228f4fc6054550"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">åŸæœ¬é æœŸçš„è¡Œç‚º </span></span></h3><div id="https://www.notion.so/541a56bf0cbb46eb95ad2512b14a92ba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä»¥ä¸‹æ˜¯æˆ‘å€‘ Batch Fetch çš„ç¯„ä¾‹ Code</span></span></p></div><pre id="https://www.notion.so/13973baa5def452983714ac6a78bfc1b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>urls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">url</span> <span class="token operator">=></span>
  <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token operator">...</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span></span></code></pre><div id="https://www.notion.so/134bd375461e400fbf28e5c9a1d57a2d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é€™æ®µç¨‹å¼åœ¨æœ¬æ©Ÿæ¸¬è©¦æ™‚æ‰“ 1000 å€‹è«‹æ±‚æ™‚ï¼Œç€è¦½å™¨æœƒæ…¢æ…¢çš„é€è«‹æ±‚ (å¤§ç´„åŒæ™‚ 5 å€‹)ï¼Œç•¶æ™‚æ²’æœ‰æƒ³å¤ªå¤šï¼Œèªç‚ºç€è¦½å™¨æœƒå¹«å¿™åšè«‹æ±‚é™åˆ¶ï¼Œå› æ­¤æ²’æœ‰å¦å¤–åšè™•è£¡ã€‚</span></span></p></div><h1 id="https://www.notion.so/dee6937bb7254d528fa0d247aece03ee" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/dee6937bb7254d528fa0d247aece03ee"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å°‹æ‰¾å•é¡Œ</span></span></h1><div id="https://www.notion.so/8b19d5d396bf44b7b4b68bacccf26f10" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸€é–‹å§‹æˆ‘å…ˆåˆ° Staging ç’°å¢ƒæ¸¬è©¦åšç›¸åŒçš„æ¸¬è©¦ï¼Œéæ²’å¹¾ç§’å°±æŠŠå¾Œç«¯æ‰“å£äº†ã€‚ç„¶å¾Œå›åˆ°è‡ªå·±æ©Ÿå™¨ä¸Šçš„é–‹ç™¼ç’°å¢ƒå»æ˜¯æ…¢æ…¢çš„æ‰“ã€‚</span></span></p></div><div id="https://www.notion.so/32d9091a061141af8d7512aae2d77b5d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ­¤æ™‚å°±å»å• Google å¤§ç¥ï¼Œå°‹æ‰¾ Parallel+Connection+Chrome æœ‰é—œçš„è³‡è¨Šï¼Œç™¼ç¾é€™ç¯‡ Stack Overflow</span></span></p></div><div id="https://www.notion.so/bac2576a8ff44dd489173d41798c2626" class="Bookmark"><a href="https://stackoverflow.com/questions/985431/max-parallel-http-connections-in-a-browser"><h5 class="Bookmark__Title">Max parallel http connections in a browser?</h5><p class="Bookmark__Desc">I am creating some suspended connections to an HTTP server (comet, reverse ajax, etc). It works ok, but I see the browser only allows two suspended connections to a given domain simultaneously. So if a user is looking at my website in Tab1 of their browser, then also tries loading it in Tab2, they&#x27;ve used up the two allowed connections to my site.</p><p class="Bookmark__Link">https://stackoverflow.com/questions/985431/max-parallel-http-connections-in-a-browser</p></a></div><div id="https://www.notion.so/06c626aad50b4255bdce922597a5eb34" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Chrome ç¢ºå¯¦æœƒé™åˆ¶åŒæ™‚ 6 å€‹ Connection ï¼Œä½†æ˜¯åªæœ‰åœ¨ HTTP/1.1 çš„æƒ…æ³ä¸‹ã€‚ç„¶è€Œ</span></span></p></div><div id="https://www.notion.so/230bdd3522754c11b37ada2f487dce1d" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">âš ï¸</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/2: Multiplexed support (one single TCP connection for all requests)</span></span></p></div><div id="https://www.notion.so/495a00fb1e884ef1b6132a8faffcfd84" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å†å›åˆ°å‰›å‰› Staging è·Ÿè‡ªå·±æ©Ÿå™¨ä¸Šï¼ŒåŸä¾†æˆ‘å€‘ Staging/Production éƒ½æ˜¯ä½¿ç”¨ HTTP2ï¼Œè€Œé–‹ç™¼ç’°å¢ƒå‰‡æ˜¯ HTTP/1.1ã€‚è¬åœ˜çµ‚æ–¼è§£é–‹äº†ï¼</span></span></p></div><h3 id="https://www.notion.so/cc855c0793a94fffb8c1caaee39b1f93" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/cc855c0793a94fffb8c1caaee39b1f93"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æ˜¯ä»€éº¼é€ æˆé€™æ¨£çš„å·®ç•°</span></span></h3><div id="https://www.notion.so/3906585fb59745348cb06b3b80cc6814" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘å€‘å‰ç«¯é–‹ç™¼ç’°å¢ƒä½¿ç”¨ </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/facebook/create-react-app">Create React App</a></span><span class="SemanticString"> æ­é… </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/chimurai/http-proxy-middleware">http-proxy-middleware</a></span><span class="SemanticString">ï¼Œé€™è£¡çš„è·‘èµ·ä¾†çš„ Server åªæ”¯æ´ HTTP/1.1</span></span></p></div><pre id="https://www.notion.so/a7f12c778e9642fabc6a0173bd798171" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> target<span class="token operator">:</span> <span class="token string">'http://localhost:8080'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></span></span></span></code></pre><div id="https://www.notion.so/e7bbf9d2c6fa44caa6c0898ed9d4718a" class="Bookmark"><a href="https://create-react-app.dev/docs/proxying-api-requests-in-development/"><h5 class="Bookmark__Title">Create React App Â· Set up a modern web app by running one command.</h5><p class="Bookmark__Desc">Note: this feature is available with [email protected] and higher. People often serve the front-end React app from the same host and port as their backend implementation.</p><p class="Bookmark__Link">https://create-react-app.dev/docs/proxying-api-requests-in-development/</p></a></div><div id="https://www.notion.so/ead6688e81ae41489c9a88d07f1d41c3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/283cc79a5bf44fa1a345b5b215ccc8d5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è€Œæˆ‘å€‘éƒ¨å±¬åœ¨ AWS ä¸Šå‰‡æ˜¯ä½¿ç”¨ Application Load Balancer ä¾†è½‰ç™¼ API/Frontend çš„è«‹æ±‚ï¼Œé è¨­é–‹å•Ÿ HTTP/2ã€‚</span></span></p></div><h1 id="https://www.notion.so/b5b9ab9606f143bb8dedee60b17a6cbb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/b5b9ab9606f143bb8dedee60b17a6cbb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å¦‚ä½•è§£æ±º</span></span></h1><h3 id="https://www.notion.so/7c6396ad2bb041faa387ad630853e71a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/7c6396ad2bb041faa387ad630853e71a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æ§åˆ¶ Promise çš„ä½µç™¼æ•¸</span></span></h3><div id="https://www.notion.so/f8d7b868a2fe4b97bd0aa6f449e07288" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨ </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/sindresorhus/p-limit">p-limit</a></span><span class="SemanticString"> é€™å€‹å¥—ä»¶ä¾†æ§åˆ¶ä½µç™¼æ•¸ï¼Œå•é¡Œè§£æ±ºï¼</span></span></p></div><h3 id="https://www.notion.so/bd14afab884e4f93bb5c7623f90c0037" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/bd14afab884e4f93bb5c7623f90c0037"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">åœ¨é–‹ç™¼ç’°å¢ƒæ¸¬è©¦ HTTP/2.0 ç’°å¢ƒ</span></span></h3><div id="https://www.notion.so/25b8c214b5914f999a6838a41b783e90" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é¦–å…ˆå˜—è©¦è®“ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">http-proxy-middleware</code></span><span class="SemanticString"> æ”¯æ´ HTTP/2.0ï¼Œæœ‰ç™¼ç¾ç›¸é—œ Issue ä½†æ²’æœ‰è§£æ±ºæ–¹æ³•ã€‚</span></span></p></div><div id="https://www.notion.so/90869b749bf34ac4a4e36ea179ba8408" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ€çµ‚æ±ºå®šåœ¨æœ¬æ©Ÿä½¿ç”¨ </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://caddyserver.com/">Caddy</a></span><span class="SemanticString"> é€™å¥—ç•¶ä½œ Reverse Proxy + Static File Server</span></span></p></div><div id="https://www.notion.so/6b7a2983c3774a878bac9e3de6d86280" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é¸æ“‡ Caddy é€™å¥—çš„ç†ç”±å¦‚ä¸‹</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/cdbd9a7d8f084964920709d60cb84ec1" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">æ”¯æ´ HTTP/2.0</span></span></li><li id="https://www.notion.so/deda3419d88840ef9824eb45cb35f84b" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">è‡ªå‹• HTTPS</span></span></li><li id="https://www.notion.so/e4cf34e1e8f94adcbf3a6c054e35d213" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">å¯ä½œç‚º File Server</span></span></li><li id="https://www.notion.so/1a5fbbc5264d4b6d83776e90bfde84cf" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨+è¨­å®šç°¡å–®</span></span></li></ol><div id="https://www.notion.so/47dc2472cb0b4475b628927ffd80cad5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åŸæœ¬ä¹Ÿæœ‰è€ƒæ…®ä½¿ç”¨ </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.nginx.com/">Nginx</a></span><span class="SemanticString"> æˆ– </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://docs.traefik.io/">Traefik</a></span><span class="SemanticString">ï¼Œä½† nginx ç”¨èµ·ä¾†æ¯”è¼ƒè¤‡é›œè€Œ traefik æ²’æœ‰å…§å»º file server</span></span></p></div><div id="https://www.notion.so/f1cbd9ffbca8442b915e9527f9a1a569" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1dc6ef5a6ff94563906cb83bac088c63" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"> </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Caddyfile</code></span></span></p></div><pre id="https://www.notion.so/129fe64b9633411ab427167d5bf0ea78" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>localhost

root ./build
file_server
reverse_proxy /api/* 127.0.0.1:8080</span></span></span></code></pre><h3 id="https://www.notion.so/0df8c761223d4d1cae9296a3be74d247" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0df8c761223d4d1cae9296a3be74d247"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨æ–¹æ³•</span></span></h3><ol class="NumberedListWrapper"><li id="https://www.notion.so/2d65464e536d43e28b5e7940645cdb03" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">å®‰è£ </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://caddyserver.com/docs/install">https://caddyserver.com/docs/install</a></span><span class="SemanticString"> </span></span></li><li id="https://www.notion.so/4eb0f1cd4f754be1989a47abc5fcbb61" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">å°‡ä¸Šé¢çš„è¨­å®šæª”å–å Caddyfile æ”¾åœ¨å‰ç«¯å°ˆæ¡ˆçš„ç›®éŒ„</span></span></li><li id="https://www.notion.so/e77b4ed9196a4f45ae1426e220d97611" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">yarn build</code></span><span class="SemanticString"> æ‰“åŒ…å‰ç«¯</span></span></li><li id="https://www.notion.so/b46573241c20475cbe3e7bc48b4f163b" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sudo caddy run</code></span><span class="SemanticString"> (éœ€è¦å­˜å– 443 port å› æ­¤è¦ sudo æ¬Šé™)</span></span></li><li id="https://www.notion.so/b461fbd7be0d48a483e43ae9ff6a29d2" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">æ­¤æ™‚é€£ä¸Š </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://localhost">https://localhost </a></span><span class="SemanticString">å³å¯çœ‹åˆ° HTTP2.0 çš„ç¶²é ï¼</span></span></li></ol><h1 id="https://www.notion.so/b88e351679d3422a83582b82f6ecc338" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/b88e351679d3422a83582b82f6ecc338"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å¾Œè¨˜</span></span></h1><div id="https://www.notion.so/3a790e11672a4155b31912683a989d83" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ€å¾Œé‚„æ˜¯è¦å›åˆ°é€™æ¬¡å•é¡Œçš„æ ¹æº ã€ŒAPI ç‚ºä»€éº¼æœƒè¢«æ‰“æ›?ã€ï¼Œåœ¨ç•¶ä¸‹çœ‹ ALB åŠ API Log ä¸¦æ²’æœ‰çœ‹å‡ºå•é¡Œæ‰€åœ¨ã€‚åœ¨å¯«é€™ç¯‡æ–‡ç« çš„åŒæ™‚å†æ¬¡æ¸¬è©¦ï¼Œç™¼ç¾ä»¥ä¸‹çš„éŒ¯èª¤è¨Šæ¯ï¼Œè¦æ€æ¨£è§£æ±ºå°±ç•™åˆ°ä¹‹å¾Œçš„æ–‡ç« å§ï¼ </span></span></p></div><pre id="https://www.notion.so/9d6f678e31bf409a92c8b5f31942fcf6" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>sqlalchemy<span class="token punctuation">.</span>exc<span class="token punctuation">.</span>TimeoutError<span class="token punctuation">:</span> QueuePool limit of size <span class="token number">5</span> overflow <span class="token number">10</span> reached<span class="token punctuation">,</span> connection timed out<span class="token punctuation">,</span> timeout <span class="token number">30</span> <span class="token punctuation">(</span>Background on this error at<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token operator">//</span>sqlalche<span class="token punctuation">.</span>me<span class="token operator">/</span>e<span class="token operator">/</span>3o7r<span class="token punctuation">)</span></span></span></span></code></pre><div id="https://www.notion.so/9512e503020842b1ae91a0d0dd934373" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/8b8dc44506e54008ba7fcceb796d474c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>  <div class="PageRoot">
    <div class="commentbox"></div>
  </div>
  
  <footer class="Footer">
    <div>&copy; Kuan Yin Chen's Blog 2020</div>
    <div>&centerdot;</div>
    <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
        rel="noopener noreferrer">Notablog</a>.
    </div>
    <div>&centerdot;</div>
    <div>Hosted on <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">Github Page</a>.
    </div>
    <div>&centerdot;</div>
    <div>Built with <a href="https://travis-ci.com/" target="_blank" rel="noopener noreferrer">Travis CI
      </a>.
    </div>
  </footer>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149417493-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-149417493-2');
  </script>
  <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>
  <script>
    commentBox('5758508054085632-proj');
  </script>
</body>

</html>